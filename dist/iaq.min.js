(()=>{"use strict";window.IAQ=class{constructor(e,t){this.clientId=e,this.lastUpdated=null,this.host=t||"https://app.hawkenaq.com/api/client",this.interval=null}generate(e,t){this.getData(t,!0,e),null==this.interval&&(this.interval=setInterval(this.getData,3e5,t,!0,e))}getData(e,t=!1,a){return n=this,i=void 0,s=function*(){try{let n=new URL(this.host);n.searchParams.append("clientKey",this.clientId),e.widgetId&&n.searchParams.append("widgetId",e.widgetId),Array.isArray(e.measurementIds)&&n.searchParams.append("measurementIds",JSON.stringify(e.measurementIds));let i=yield fetch(n.toString()),r=yield i.json();return t&&(null!=a?this.updateElement(r,a):console.warn("Dom not initialize")),console.log(r),r}catch(e){console.error(e)}},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{d(s.next(e))}catch(e){t(e)}}function l(e){try{d(s.throw(e))}catch(e){t(e)}}function d(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,l)}d((s=s.apply(n,i||[])).next())}));var n,i,r,s}getDefaultStyle(e,t){if("data-measurement"==e)return"display: flex;height: 226px;width: 315px;padding-left: 32px;padding-right: 24px;padding-top: 16px;padding-bottom: 0px;color:white;background-color: rgb(37, 41, 74);border-radius: 20px;font-family:Roboto,sans-serif;font-weight:300;text-decoration:none";if("data-measurement-values"==e)return"display:flex;align-items:baseline";if("data-measurement-score"==e)return"font-size:3.2rem";if("data-measurement-unit"==e)return null==t?"display:none":"font-size:1.2rem;margin-left:5px";if("data-name"==e)return"font-size:1.65rem;line-height:2rem;margin-top:1rem";if("data-indicator"==e){if(t){return Number(t)>=75?"display:flex;width:100%;height:30px;justify-content:flex-end;font-size:1.2rem;color:#02c39a":"display:flex;width:100%;height:30px;justify-content:flex-end;font-size:1.2rem;color:#e8912b"}return"display:flex;width:100%;height:30px;justify-content:flex-end;font-size:1.2rem"}return"data-icon"==e?"height:40px;width:40px;margin-bottom:18px":void 0}getIndicatorText(e){return e>=75?"Excellent":e>=50&&e<75?"Moderate":"Poor"}scoreToUse(e){let t;return t="curScore"==e.toUse?Math.round(Number(e.curScore)):isNaN(Number(e.curVal))?e.curVal:Math.round(Number(e.curVal)),String(t)}updateElement(e,t){let a="";for(let t in e.measurements){let n=e.measurements[t];a+=`<a data-measurement="${t}" style="${this.getDefaultStyle("data-measurement")}" href="https://www.hawkenaq.com/" target="_blank">\n            <div data-details style="width:100%">\n                <div data-indicator style="${this.getDefaultStyle("data-indicator",n.curScore)}">${this.getIndicatorText(Number(n.curScore))}</div>\n                <div data-icon style="${this.getDefaultStyle("data-icon")}">${n.icon}</div>\n                <div data-measurement-values style="${this.getDefaultStyle("data-measurement-values")}">\n                    <span data-measurement-score style="${this.getDefaultStyle("data-measurement-score")}">${this.scoreToUse(n)}</span>\n                    <span data-measurement-unit style="${this.getDefaultStyle("data-measurement-unit",n.unit)}">${n.unit}</span>\n                </div>\n                <div data-name style="${this.getDefaultStyle("data-name")}">${n.name}</div>\n            </div>\n        </a>`}t.innerHTML=`<div style="overflow:hidden;width:100%;height:100%;display:flex;align-items:flex-start;justify-content:center;text-decoration:none">${a}</div>`}}})();